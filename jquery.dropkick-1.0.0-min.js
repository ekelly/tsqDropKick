(function(e,r,l){function p(c){return 0<e.trim(c).length?c:!1}function q(c,b,a){var d,e,f;d=c.attr("data-dk-dropdown-value");c=c.text();e=b.data("dropkick");f=e.$select;f.val(d);b.find(".dk_label").text(c);e.settings.change&&!a&&e.settings.change.call(f,d,c)}function k(c,b){b.find(".dk_option_current").removeClass("dk_option_current");c.addClass("dk_option_current");var a=c.prevAll("li").outerHeight()*c.prevAll("li").length;b.find(".dk_options_inner").animate({scrollTop:a+"px"},0)}function n(c){c.data("dropkick");
c.find(".dk_options").css({top:c.find(".dk_toggle").outerHeight()-1});c.toggleClass("dk_open")}function t(c,b){var a,d=[];a=c.replace("{{ id }}",b.id);a=a.replace("{{ id }}",b.id);a=a.replace("{{ label }}",b.label);a=a.replace("{{ tabindex }}",b.tabindex);a=a.replace("{{ arrowx }}",b.arrowx);if(b.options&&b.options.length)for(var m=0,f=b.options.length;m<f;m++){var h=e(b.options[m]),i=u,i=i.replace("{{ value }}",h.val()),i=i.replace("{{ current }}",p(h.val())===b.value?"dk_option_current":""),i=i.replace("{{ text }}",
h.text());d[d.length]=i}a=e(a);a.find(".dk_options_inner").html(d.join(""));a.find(".dk_options_inner li:first-child").addClass("dk_first");a.find(".dk_options_inner li:last-child").addClass("dk_last");return a}var s=!1,j={},o=[],u='<li class="{{ current }}"><a data-dk-dropdown-value="{{ value }}">{{ text }}</a></li>',v={startSpeed:1E3,theme:!1,change:!1};e.browser.msie&&7>e.browser.version.substr(0,1)?s=!0:l.documentElement.className+=" dk_fouc";j.init=function(c,b){c=e.extend({},v,c);if(null===
b||void 0===b)b=l;return this.each(function(){var a=e(this),d=a.find(":selected").first(),m=a.find("option"),f=a.data("dropkick")||{},h=a.attr("id")||a.attr("name")||a.attr("class"),i=c.width||a.outerWidth(),k=-1200+i+72,j=a.attr("tabindex")?a.attr("tabindex"):"",g=!1;if(f.id)return a;f.settings=c;f.tabindex=j;f.id=h;f.$original=d;f.$select=a;f.value=p(a.val())||p(d.attr("value"));f.label=d.text();f.options=m;f.arrowx=k;g=t('<div class="dk_container dk_container_{{ id }}" id="dk_container_{{ id }}" tabindex="{{ tabindex }}"><a class="dk_toggle" style="background-position: {{ arrowx }}px -1054px;"><span class="dk_label">{{ label }}</span></a><div class="dk_options"><ul class="dk_options_inner"></ul></div></div>',
f);g.find(".dk_toggle").css({width:i+"px"});a.before(g);g=e("#dk_container_"+h,b).fadeIn(c.startSpeed);d=c.theme?c.theme:"default";g.addClass("dk_theme_"+d);f.theme=d;f.$dk=g;a.data("dropkick",f);g.data("dropkick",f);o[o.length]=a;g.bind("focus.dropkick",function(){g.addClass("dk_focus")});g.bind("blur.dropkick",function(){if(0<e(l.activeElement).closest(g).length)return g.focus(),!1;g.removeClass("dk_open dk_focus")});r.setTimeout(function(){a.hide()},0)})};j.theme=function(c){var b=e(this).data("dropkick");
b.$dk.removeClass("dk_theme_"+b.theme).addClass("dk_theme_"+c);b.theme=c};j.reset=function(){for(var c=0,b=o.length;c<b;c++){var a=o[c].data("dropkick"),d=a.$dk,e=d.find("li").first();d.find(".dk_label").text(a.label);d.find(".dk_options_inner").animate({scrollTop:0},0);k(e,d);q(e,d,!0)}};e.fn.dropkick=function(c){if(!s){if(j[c])return j[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return j.init.apply(this,arguments)}};e(function(){e(".dk_toggle").live("click",
function(c){var b=e(this).parents(".dk_container").first();n(b);"ontouchstart"in r&&(b.addClass("dk_touch"),b.find(".dk_options_inner").addClass("scrollable vertical"));c.preventDefault();return!1});e(".dk_options a").live(e.browser.msie?"mousedown":"click",function(c){var b=e(this),a=b.parents(".dk_container").first();a.data("dropkick");a.removeClass("dk_open");q(b,a);k(b.parent(),a);c.preventDefault();return!1});e(l).bind("keydown.dk_nav",function(c){var b=e(".dk_container.dk_open"),a=e(".dk_container.dk_focus"),
d=null;b.length?d=b:a.length&&!b.length&&(d=a);if(d){var b=d,j=c.keyCode;b.data("dropkick");var f=b.find(".dk_options"),a=b.hasClass("dk_open"),h=b.find(".dk_option_current"),d=f.find("li").first(),f=f.find("li").last();switch(j){case 13:a?(q(h.find("a"),b),b.removeClass("dk_open")):n(b);c.preventDefault();break;case 38:d=h.prev("li");a?d.length?k(d,b):k(f,b):n(b);c.preventDefault();break;case 40:a?(a=h.next("li").first(),a.length?k(a,b):k(d,b)):n(b),c.preventDefault()}}})})})(jQuery,window,document);